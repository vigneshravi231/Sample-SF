
<!-- Warranty Registration Form -->
<template>
	<!-- Initialize Redux Store -->
	<c-provider oninit={initialize} store={store}>
		<div if:true={showSpinner} class="slds-m-around_medium spinner-height">
			<lightning-spinner alternative-text="Loading" variant="brand" size="medium"></lightning-spinner>
		</div>
		<div if:true={submitted}>
			<div class="slds-box slds-m-around_x-large slds-text-align_center">
				<div class="color-brand slds-text-heading_large slds-p-vertical_large slds-brand">Registration Submitted Successfully</div>
				<div class="slds-m-around_large">
					<div class="slds-m-bottom_medium">
						<div class="empty-margin slds-text-title slds-text-align_center">
							Reload to submit additional vehicle registrations.
						</div>
					</div>
					<div class="slds-m-top_x-large">
						<lightning-button label="Reload Page"
                                          variant="brand"
                                          onclick={reload}></lightning-button>
						<lightning-button label="Download PDFs"
                                          variant="brand"
                                          onclick={downloadPdfs}
                                          class="slds-m-left_medium"></lightning-button>
<!--						<lightning-button label="View PDFs"-->
<!--                                          variant="brand"-->
<!--                                          onclick={viewPdfs}-->
<!--                                          class="slds-m-left_medium"></lightning-button>-->
					</div>
				</div>
			</div>
		</div>
		<div if:true={alreadyRegistered} class="slds-text-align_center slds-text-color_error">
			<div class="slds-text-align_center slds-text-heading_medium slds-p-bottom_large">
				Cannot register this asset. Asset has already been registered.
			</div>
			<div class="slds-align_absolute-center">
				<lightning-button label="Register Another Asset"
													variant="brand"
													onclick={reload}>
				</lightning-button>
			</div>
		</div>
		<div if:false={submitting}>
			<!-- Component Body -->
			<c-warranty-registration-asset-table></c-warranty-registration-asset-table>
			<div class="slds-m-vertical_large"><hr /></div>
			<c-warranty-registration-checklist onsubmitwarrantyregistration={handleWarrantySubmit}></c-warranty-registration-checklist>
		</div>
	</c-provider>
</template>
