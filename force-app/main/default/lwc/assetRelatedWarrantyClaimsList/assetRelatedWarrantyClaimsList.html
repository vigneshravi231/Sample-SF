
<!-- Asset Related Warranty Claims List -->
<template>
  <lightning-spinner if:true={isLoading}></lightning-spinner>
  <div class="slds-card noBorder">
    <div class="slds-card__header slds-p-bottom_xxx-small">
      <header class="slds-media slds-media_center slds-has-flexi-truncate">
        <div class="slds-media__figure">
          <lightning-icon icon-name="standard:case_transcript"></lightning-icon>
        </div>
        <div class="slds-media__body">
          <h2 class="slds-card__header-title" style="margin: auto 0">{listLabel}</h2>
        </div>
        <div class="slds-form-element">
          <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_right">
            <lightning-icon
              icon-name="utility:search"
              class="slds-input__icon slds-input__icon_right slds-icon-text-default"
              size="xx-small"
            >
            </lightning-icon>
            <lightning-input
              label=""
              type="text"
              placeholder="Search By Case Number..."
              value={query}
              onblur={search}
              onchange={handleSearchQueryChange}
              onkeydown={handleSearchQueryKeyPress}
              variant="label-hidden"
            >
            </lightning-input>
          </div>
        </div>
      </header>
    </div>
    <div class="slds-border_top">
      <template if:true={hasData}>
        <lightning-datatable
          key-field="Id"
          data={displayedRows}
          columns={columns}
          hide-checkbox-column
          default-sort-direction={defaultSortDirection}
          sorted-direction={sortDirection}
          sorted-by={sortedBy}
          onsort={onHandleSort}
          onrowaction={handleRowAction}
        >
        </lightning-datatable>
        <div class="slds-m-around_small">
          <c-pagination-bar pagination={pagination} onpaginationchange={handlePaginationChange}></c-pagination-bar>
        </div>
      </template>
      <div class="slds-text-align_center slds-m-around_medium" if:false={hasData}>
        <p>{noDataMessage}</p>
      </div>
    </div>
  </div>
</template>
