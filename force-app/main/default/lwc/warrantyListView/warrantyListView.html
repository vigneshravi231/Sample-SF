
<!-- Warranty List View -->
<template>
    <lightning-spinner if:true={isLoading}></lightning-spinner>
    <div class="slds-card noBorder">
        <div class="slds-card__header slds-p-bottom_xxx-small">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__figure">
                    <lightning-icon icon-name="standard:entitlement"></lightning-icon>
                </div>
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title" style="margin: auto 0">All Warranty Registrations</h2>
                </div>
                <div class="slds-form-element">
                    <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_right">
                        <lightning-icon
                                icon-name="utility:search"
                                class="slds-input__icon slds-input__icon_right slds-icon-text-default"
                                size="xx-small">
                        </lightning-icon>
                        <lightning-input
                                label=""
                                type="text"
                                placeholder="Search..."
                                value={query}
                                onchange={handleSearchQueryChange}
                                onkeydown={handleSearchQueryKeyPress}
                                variant="label-hidden">
                        </lightning-input>
                    </div>
                </div>
                <div class="slds-m-horizontal_medium">
                    <button class="slds-button slds-button_neutral noFontChange" disabled={noSelection} onclick={downloadSelected}>
                        {downloadText}
                    </button>
                </div>
                <div class="slds-no-flex">
                    <button class="slds-button slds-button_neutral" onclick={navigateToCreateForm}>New</button>
                </div>
            </header>
        </div>
        <div class="slds-border_top">
            <template if:true={displayData}>
                <lightning-datatable
                        key-field="Id"
                        data={displayData}
                        columns={columns}
                        default-sort-direction={defaultSortDirection}
                        sorted-direction={sortDirection}
                        sorted-by={sortedBy}
                        onsort={onHandleSort}
                        onrowaction={handleRowAction}
                        onrowselection={handleRowSelection}>
                </lightning-datatable>
            </template>
            <c-pagination-bar pagination={pagination} onpaginationchange={handlePaginationChange}></c-pagination-bar>
        </div>
    </div>
</template>
